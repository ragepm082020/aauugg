<!--<div id="imgLoader">
  <img style="padding:10% 40%;" src="https://firebasestorage.googleapis.com/v0/b/ddtestt-bd011.appspot.com/o/pmassets%2FloaderImg%2Fcolor_fan_loader.gif?alt=media&token=51d2edc6-991e-4e62-97c3-1466970e3349">
</div>-->
<div class="wrapper">  
    <app-side-nav-menu></app-side-nav-menu>
       <div id="content">
           <app-top-nav-menu></app-top-nav-menu>
            <div>
              <div *ngFor = "let issueData of issueCol">                
                <div class="issueDetailSection">
                    <div class="issueTopHeading">
                      <h4>{{issueData.issueHeading}}</h4>
                      <!--<h5><i> ISSUE</i></h5>-->
                    </div>
                    <div class="issueCreationDetail">
                      <div class="createdContent">Created By {{issueData.issueCreatedBy}}<br/> {{issueData.issueCreatedDate}}</div>
                      <div class="createdUser">
                        
                        <img src="{{issueData.createdUserImg}}" height="30" width="30"> </div>
                    </div>
                    <hr class="hrLine"/>
                    <div class="issueDesc">{{issueData.issueDesc}}</div>
                    <!--<div class="hrLineLarge"><span style="float:right; margin-left:1%;">
                      <button class="btn btn-lg btn-outline-warning" (click)="uploadImgs(content)">+</button></span>
                    </div>-->
                    <!--<div *ngIf="!isImgsPresent">
                      Test
                    </div>-->

                    <div *ngIf="isImgsPresent; else prompt">
                      <div class="screenshotsSec">
                        <a href="{{this.isImgsPresent}}" target="_blank"><img src="{{this.isImgsPresent}}" height="130" width="170"></a>
                      </div>
                    </div>
                    
                    <ng-template #prompt>
                      <h6 class="noImgsFound">No images found</h6>
                    </ng-template>

                    <!--<div style="border:1px solid #f5f5f5;" [style.display]="isImgsVisible ? 'block' : 'none'">
                        <div class="screenshotsSec" >
                            <img src="{{this.isImgsPresent}}" height="130" width="170">
                          </div>
                    </div> -->
                    
                    
                    <div class="hrLineLarge">
                      <span class="commentsSec" id="commentsSecId" (click) = "showComments()">{{this.commentsTotal}} Comments</span>
                      <span class="issueActivitySec" id="issueActivitySecId" (click) = "showActivity()">{{this.activityTotal}} Activities</span>
                    </div>
                    <div>
                          <div class="commentDetail" [style.display]="isCommentsVisible ? 'block' : 'none'">
                            <div *ngFor="let cmtsArr of commentsArr">
                                <div>
                                    <span class="commentedUser">{{cmtsArr.commentedBy}}</span>
                                    <span class="commentedDate">{{cmtsArr.commentedOn | date:'medium'}}</span>                                  
                                </div>
                                <div class='commentedDesc'>{{cmtsArr.commentDesc}}</div>
                            </div>                            
                            </div>
                          <div class="commentActivity" [style.display]="isActivityVisible ? 'block' : 'none'">
                              <div *ngFor="let logInfo of activityArr">                                
                                <div class="activitySection">
                                    <div>
                                      <span class="userLogged" style="color:#5b8200">{{logInfo.userUpdated}}</span> &nbsp;&nbsp;
                                      <span class="loggedDateTime">{{logInfo.activityUpdated}}</span>
                                    </div>
                                    <div>
                                      <span class="lblSubject" style="background:#ede;">{{logInfo.subject}}</span> 
                                      <span class="lblSubject" style=" margin: 0 3px; margin-left:40px;">{{logInfo.fromactivity}}</span> > 
                                      <span class="lblSubject" >{{logInfo.toactivity}}</span>
                                    </div>
                                </div> 
                              </div> 
                          </div>
                    </div>
                </div>
                <input type="hidden" value='New' id="selectedStatus" value={{issueData.issueStatus}}>
                <div class="issueStatusSection">
                  <div class="issueStatus">
                    <div class="input-group mb-3">                        
                        <div class="input-group-prepend">
                          <label class="input-group-text" for="inputGroupSelect">Status</label>                          
                        </div>
                          <select id="issueStatusVal" [(ngModel)]="statusSelected" (change)="onChange($event.target.value)">                            
                            <option *ngFor="let issueStatusOption of issueStatusOptions" [value]="issueStatusOption.Id">{{issueStatusOption.Name}}</option>                            
                          </select>
                         
                          <span id="processingLoader"><img src="../../assets/images/processing_loader.gif" height="20" width="20"> </span>

                                              </div>
                  </div>
                  <div class="bugCategorySec">
                    <span class="indicator highPriority">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="bugType">{{issueData.issueType}}</span><span class="bugCategory">Type</span>                  
                  </div>                          
                  <div class="bugCategorySec">                      
                      <span class="indicator mediumPriority">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="bugType">{{issueData.issuePriority}}</span><span class="bugCategory">Priority</span>
                  </div>
                  <div class="hrLineSmall"></div>
                  <div class="assignedHeading" style="padding-left:20px;padding-top:50px">Assigned</div>
                  <div>
                    <div class="currentAssignedUser"><img src="{{issueData.issueAssignedImg}}" height="30" width="30"></div>
                    <div class="assignedUsername"> {{issueData.issueAssignedTo}}</div>
                  </div>
                  <!--<div class="addAssign">Assign To</div>-->
                </div>  
              </div>
          </div>                        
      </div>       
  </div>  
   <router-outlet></router-outlet>